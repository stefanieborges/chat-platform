<form #userForm="ngForm" (ngSubmit)="register()" class="md:flex justify-center px-20 bg-white gap-10">
    <div class="bg-white my-10 rouded md:w-1/4 flex flex-col gap-3 shadow-sm drop-shadow-md">
        <div class="text-center">
            <div class="flex justify-center">
                <img [src] = "profilePicture" class="rounded-full object-cover bg-blue-800 h-24 w-24" >
            </div>
            <div class="text-2xl my-2 font-medium">
                Registro
            </div>
        </div>
        <div class="w-full px-4">     
            <mat-form-field class="w-full" appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput required #emailModel="ngModel" name="email" placeholder="Email" [(ngModel)]="email">
                @if(emailModel.errors?.['required']){
                    <mat-error>O email é obrigatório</mat-error>
                }
            </mat-form-field>
            
            <mat-form-field class="w-full" appearance="fill">
                <mat-label>Nome</mat-label>
                <input matInput required #fullnameModel="ngModel" name="fullname" placeholder="Nome" [(ngModel)]="fullname"> 
                  @if(fullnameModel.errors?.['required']){
                    <mat-error>O nome é obrigatório</mat-error>
                }
            </mat-form-field>

             <mat-form-field class="w-full" appearance="fill">
                <mat-label>Nome de Usuário</mat-label>
                <input matInput required #usernameModel="ngModel" name="username" placeholder="Nome de Usuário" [(ngModel)]="userName"> 
                  @if(usernameModel.errors?.['required']){
                    <mat-error>O nome de usuário é obrigatório</mat-error>
                }
            </mat-form-field>

            <mat-form-field class="w-full" appearance="fill">
                <mat-label>Senha</mat-label>
                <input matInput required #passwordModel="ngModel" [type]="hide() ? 'password' : 'text'" name="password" [(ngModel)]="password"> 
                  @if(passwordModel.errors?.['required']){
                    <mat-error>A senha é obrigatória</mat-error>
                }    
                <button mat-icon-button matSuffix (click)="togglePassword($event)" type="button">
                    <mat-icon>{{ hide() ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
            </mat-form-field>

            <input (change)="onFileSelected($event)" hidden type="file" #pic placeholder="Imagem de Perfil">
            <button (click)="pic.click()" type="button" class="w-full flex items-center gap-2 justify-center mb-5 bg-green-900 text-white rounded-md p-2">
                <mat-icon>add_a_photo</mat-icon>
                <span>Upload Imagem</span>
            </button>

            <button type="submit" [disabled]="!userForm.valid" class="w-full mb-5 bg-blue-900 text-white rounded-md p-2 disabled:opacity-30">
                Registrar
            </button>
           
            <p class="font-bold text-xs text-center pb-10">
                Já tem uma conta? <a class="text-blue-500" [routerLink]="'/login'">Logue aqui!</a>
            </p>
        </div>
    </div>   
</form>