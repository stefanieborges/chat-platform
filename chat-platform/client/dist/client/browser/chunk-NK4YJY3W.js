import{a as O,b as z,c as H,d as G,e as J,f as K,g as Q,h as X,i as Y,j as Z}from"./chunk-HT2FLGSP.js";import{$ as f,$b as L,Da as n,Ea as N,F as R,Ga as w,Ha as M,Ia as b,J as C,K as l,Sb as T,T as x,Tb as W,Vb as P,Zb as q,_ as c,_b as B,ac as D,bc as j,cb as V,da as _,db as I,dc as A,ea as e,ec as U,fa as i,ga as F,gb as k,la as v,na as h,w as S,x as u,y as p,za as g}from"./chunk-MDV2SWPG.js";function ee(m,o){m&1&&(e(0,"mat-error"),n(1,"O email \xE9 obrigat\xF3rio"),i())}function te(m,o){m&1&&(e(0,"mat-error"),n(1,"O nome \xE9 obrigat\xF3rio"),i())}function ie(m,o){m&1&&(e(0,"mat-error"),n(1,"O nome de usu\xE1rio \xE9 obrigat\xF3rio"),i())}function re(m,o){m&1&&(e(0,"mat-error"),n(1,"A senha \xE9 obrigat\xF3ria"),i())}var $=class m{email;password;fullname;userName;profileImageFile=null;profilePicture="https://randomuser.me/api/portraits/lego/5.jpg";authservice=S(k);snackBar=S(Z);router=S(V);hide=R(!0);togglePassword(o){this.hide.set(!this.hide())}onFileSelected(o){let s=o.target.files[0];if(this.profileImageFile=s,s){let r=new FileReader;r.onload=a=>{this.profilePicture=a.target.result,console.log(a.target?.result)},r.readAsDataURL(s),console.log(this.profileImageFile)}}register(){let o=new FormData;o.append("email",this.email),o.append("password",this.password),o.append("fullName",this.fullname),o.append("userName",this.userName),o.append("profileImage",this.profileImageFile),this.authservice.register(o).subscribe({next:s=>{this.snackBar.open("Registro realizado com sucesso!","Fechar",{duration:3e3})},error:s=>{let r=s.error;this.snackBar.open(`Erro ao registrar: ${r.error}`,"Fechar",{duration:3e3})},complete:()=>{this.router.navigate(["/"])}})}static \u0275fac=function(s){return new(s||m)};static \u0275cmp=x({type:m,selectors:[["app-register"]],decls:49,vars:13,consts:[["userForm","ngForm"],["emailModel","ngModel"],["fullnameModel","ngModel"],["usernameModel","ngModel"],["passwordModel","ngModel"],["pic",""],[1,"md:flex","justify-center","px-20","bg-white","gap-10",3,"ngSubmit"],[1,"bg-white","my-10","rouded","w-1/4","flex","flex-col","gap-3","shadow-sm","drop-shadow-md"],[1,"text-center"],[1,"flex","justify-center"],[1,"rounded-full","object-cover","bg-blue-800","h-24","w-24",3,"src"],[1,"text-2xl","my-2","font-medium"],[1,"w-full","px-4"],["appearance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","fullname","placeholder","Nome",3,"ngModelChange","ngModel"],["matInput","","required","","name","username","placeholder","Nome de Usu\xE1rio",3,"ngModelChange","ngModel"],["matInput","","required","","name","password",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["hidden","","type","file","placeholder","Imagem de Perfil",3,"change"],["type","button",1,"w-full","flex","items-center","gap-2","justify-center","mb-5","bg-green-900","text-white","rounded-md","p-2",3,"click"],["type","submit",1,"w-full","mb-5","bg-blue-900","text-white","rounded-md","p-2","disabled:opacity-30",3,"disabled"],[1,"font-bold","text-xs","text-center","pb-10"],[1,"text-blue-500",3,"routerLink"]],template:function(s,r){if(s&1){let a=v();e(0,"form",6,0),h("ngSubmit",function(){return u(a),p(r.register())}),e(2,"div",7)(3,"div",8)(4,"div",9),F(5,"img",10),i(),e(6,"div",11),n(7," Registro "),i()(),e(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),n(11,"Email"),i(),e(12,"input",14,1),b("ngModelChange",function(t){return u(a),M(r.email,t)||(r.email=t),p(t)}),i(),c(14,ee,2,0,"mat-error"),i(),e(15,"mat-form-field",13)(16,"mat-label"),n(17,"Nome"),i(),e(18,"input",15,2),b("ngModelChange",function(t){return u(a),M(r.fullname,t)||(r.fullname=t),p(t)}),i(),c(20,te,2,0,"mat-error"),i(),e(21,"mat-form-field",13)(22,"mat-label"),n(23,"Nome de Usu\xE1rio"),i(),e(24,"input",16,3),b("ngModelChange",function(t){return u(a),M(r.userName,t)||(r.userName=t),p(t)}),i(),c(26,ie,2,0,"mat-error"),i(),e(27,"mat-form-field",13)(28,"mat-label"),n(29,"Senha"),i(),e(30,"input",17,4),b("ngModelChange",function(t){return u(a),M(r.password,t)||(r.password=t),p(t)}),i(),c(32,re,2,0,"mat-error"),e(33,"button",18),h("click",function(t){return u(a),p(r.togglePassword(t))}),e(34,"mat-icon"),n(35),i()()(),e(36,"input",19,5),h("change",function(t){return u(a),p(r.onFileSelected(t))}),i(),e(38,"button",20),h("click",function(){u(a);let t=g(37);return p(t.click())}),e(39,"mat-icon"),n(40,"add_a_photo"),i(),e(41,"span"),n(42,"Upload Imagem"),i()(),e(43,"button",21),n(44," Registrar "),i(),e(45,"p",22),n(46," J\xE1 tem uma conta? "),e(47,"a",23),n(48,"Logue aqui!"),i()()()()()}if(s&2){let a=g(1),d=g(13),t=g(19),y=g(25),E=g(31);l(5),_("src",r.profilePicture,C),l(7),w("ngModel",r.email),l(2),f(d.errors!=null&&d.errors.required?14:-1),l(4),w("ngModel",r.fullname),l(2),f(t.errors!=null&&t.errors.required?20:-1),l(4),w("ngModel",r.userName),l(2),f(y.errors!=null&&y.errors.required?26:-1),l(4),_("type",r.hide()?"password":"text"),w("ngModel",r.password),l(2),f(E.errors!=null&&E.errors.required?32:-1),l(3),N(r.hide()?"visibility_off":"visibility"),l(8),_("disabled",!a.valid),l(4),_("routerLink","/login")}},dependencies:[O,U,j,P,q,B,A,D,L,Q,K,J,z,H,G,Y,X,W,T,I],encapsulation:2})};export{$ as Register};
