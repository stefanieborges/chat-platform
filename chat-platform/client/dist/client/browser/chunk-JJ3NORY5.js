import{a as q,b as D,c as j,d as z,e as H,f as G,g as O,h as J,i as K,j as Q}from"./chunk-HT2FLGSP.js";import{$ as h,$b as R,Da as r,Ea as E,F as x,Ga as b,Ha as _,Ia as S,K as a,Sb as V,T as y,Tb as k,Vb as I,Zb as N,_ as M,_b as B,ac as T,bc as A,cb as L,da as c,db as C,dc as P,ea as e,ec as W,fa as t,gb as F,la as v,na as w,w as g,x as p,y as u,za as f}from"./chunk-MDV2SWPG.js";function X(l,n){l&1&&(e(0,"mat-error"),r(1,"O email \xE9 obrigat\xF3rio"),t())}function Y(l,n){l&1&&(e(0,"mat-error"),r(1,"A senha \xE9 obrigat\xF3ria"),t())}var U=class l{email;password;hide=x(!0);authService=g(F);snackBar=g(Q);route=g(L);togglePassword(n){this.hide.set(!this.hide()),n.stopPropagation()}login(){this.authService.login(this.email,this.password).subscribe({next:n=>{this.authService.me().subscribe(),this.snackBar.open("Login realizado com sucesso!","Fechar",{duration:3e3})},error:n=>{let s=n.error;this.snackBar.open(`Erro ao realizar login: ${s.message}`,"Fechar",{duration:5e3})},complete:()=>{this.route.navigate(["/"])}})}static \u0275fac=function(s){return new(s||l)};static \u0275cmp=y({type:l,selectors:[["app-login"]],decls:30,vars:8,consts:[["userForm","ngForm"],["emailModel","ngModel"],["passwordModel","ngModel"],[1,"md:flex","justify-center","px-20","bg-white","gap-10",3,"ngSubmit"],[1,"bg-white","my-10","rouded","w-1/4","flex","flex-col","gap-3","shadow-sm","drop-shadow-md"],[1,"text-center"],[1,"material-icons","text-9xl","text-blue-950","bg-white"],[1,"text-2xl","my-2","font-medium"],[1,"w-full","px-4","mt-10"],["appearance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","password",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["type","submit",1,"w-full","mb-5","bg-blue-900","text-white","rounded-md","p-2","disabled:opacity-30",3,"disabled"],[1,"font-bold","text-xs","text-center","pb-10"],[1,"text-blue-500",3,"routerLink"]],template:function(s,o){if(s&1){let m=v();e(0,"form",3,0),w("ngSubmit",function(){return p(m),u(o.login())}),e(2,"div",4)(3,"div",5)(4,"mat-icon",6),r(5,"person"),t(),e(6,"div",7),r(7," Login "),t()(),e(8,"div",8)(9,"mat-form-field",9)(10,"mat-label"),r(11,"Email"),t(),e(12,"input",10,1),S("ngModelChange",function(i){return p(m),_(o.email,i)||(o.email=i),u(i)}),t(),M(14,X,2,0,"mat-error"),t(),e(15,"mat-form-field",9)(16,"mat-label"),r(17,"Senha"),t(),e(18,"input",11,2),S("ngModelChange",function(i){return p(m),_(o.password,i)||(o.password=i),u(i)}),t(),M(20,Y,2,0,"mat-error"),e(21,"button",12),w("click",function(i){return p(m),u(o.togglePassword(i))}),e(22,"mat-icon"),r(23),t()()(),e(24,"button",13),r(25," Login "),t(),e(26,"p",14),r(27," Ainda n\xE3o tem uma conta? "),e(28,"a",15),r(29,"Registre-se!"),t()()()()()}if(s&2){let m=f(1),d=f(13),i=f(19);a(12),b("ngModel",o.email),a(2),h(d.errors!=null&&d.errors.required?14:-1),a(4),c("type",o.hide()?"password":"text"),b("ngModel",o.password),a(2),h(i.errors!=null&&i.errors.required?20:-1),a(3),E(o.hide()?"visibility_off":"visibility"),a(),c("disabled",!m.valid),a(4),c("routerLink","/register")}},dependencies:[q,W,A,I,N,B,P,T,R,O,G,H,D,j,z,K,J,k,V,C],encapsulation:2})};export{U as Login};
